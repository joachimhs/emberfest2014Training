/*! PhotoApp 26-08-2014 */
var PhotoApp=Ember.Application.create({});PhotoApp.AlbumController=Ember.ObjectController.extend({needs:["albumPhoto"],actions:{prevPhoto:function(){console.log("prevPhoto");var a=this.get("controllers.albumPhoto.model"),b=this.get("model.photos").indexOf(a);b>0?b--:0>=b&&(b=this.get("model.photos.length")-1);var c=this.get("model.photos").objectAt(b);this.transitionTo("album.photo",c)},nextPhoto:function(){console.log("nextPhoto");var a=this.get("controllers.albumPhoto.model"),b=this.get("model.photos").indexOf(a),c=this.get("model.photos.length")-1;c>b?b++:b>=c&&(b=0);var d=this.get("model.photos").objectAt(b);this.transitionTo("album.photo",d)}}}),PhotoApp.AlbumRoute=Ember.Route.extend({model:function(a){return this.store.find("album",a.album_id)}}),PhotoApp.AlbumPhotoController=Ember.ObjectController.extend({}),PhotoApp.AlbumPhotoRoute=Ember.Route.extend({model:function(a){return this.store.find("photo",a.photo_id)}}),PhotoApp.AlbumsIndexController=Ember.ArrayController.extend({sortProperties:["sortIndex"],sortAscending:!0}),PhotoApp.AlbumsRoute=Ember.Route.extend({model:function(){return this.store.find("album")}}),PhotoApp.Album=DS.Model.extend({sortIndex:DS.attr("number"),photos:DS.hasMany("photo",{async:!0}),cover:DS.belongsTo("photo",{async:!0})}),PhotoApp.Photo=DS.Model.extend({href:DS.attr("string"),thumbnail:function(){var a=this.get("href");return a&&(a=a.replace(".jpg","_thumb.jpg")),a}.property("href")}),PhotoApp.Router.map(function(){this.resource("albums",{path:"/"},function(){this.resource("album",{path:"/album/:album_id"},function(){this.route("photo",{path:"/photo/:photo_id"})})})}),DS.RESTAdapter.reopen({namespace:"json/data"}),PhotoApp.Adapter=DS.RESTAdapter.extend(),PhotoApp.ApplicationStore=DS.Store.extend({adapter:"PhotoApp.Adapter"});